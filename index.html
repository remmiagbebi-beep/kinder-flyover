/* ====== Load external Free-camera icon (hand.svg) ====== */
(async () => {
  try {
    const res = await fetch("https://raw.githubusercontent.com/remmiagbebi-beep/kinder-flyover/main/icons/hand.svg?v=" + Date.now(), { mode: "cors", cache: "no-store" });
    if (!res.ok) throw new Error("hand.svg fetch failed");
    const svgText = await res.text();
    const doc = new DOMParser().parseFromString(svgText, "image/svg+xml");
    let svgEl = doc.querySelector("svg");
    if (!svgEl) throw new Error("No <svg> in hand.svg");

    svgEl.id = "iconCamFree";
    svgEl.removeAttribute("width");
    svgEl.removeAttribute("height");
    if (!svgEl.getAttribute("viewBox")) svgEl.setAttribute("viewBox", "0 0 24 24");
    svgEl.style.width = "24px";
    svgEl.style.height = "24px";

    // shift icon right by 1px
    svgEl.style.transform = "translate(1px, 0)";

    // force white fill / stroke
    Array.from(svgEl.querySelectorAll("*")).forEach(n => {
      const t = n.tagName.toLowerCase();
      if (t === "svg") return;
      const f = n.getAttribute("fill");
      if (!f || f.toLowerCase() !== "none") n.setAttribute("fill", "#fff");
      if (n.hasAttribute("stroke")) n.setAttribute("stroke", "#fff");
    });

    const holder = document.getElementById("iconCamFree");
    holder.replaceWith(svgEl);
  } catch (e) {
    const holder = document.getElementById("iconCamFree");
    holder.innerHTML = `
      <polygon points="12,2 20,6 12,10 4,6"></polygon>
      <polygon points="12,10 20,6 20,14 12,18"></polygon>
      <polygon points="12,10 12,18 4,14 4,6"></polygon>
    `;
  }
})();
